# Interview Preparation System

This document outlines the complete interview preparation system that has been implemented in the Prepify application.

## Overview

The interview system provides an AI-powered practice environment where users can take mock interviews with dynamic questions generated by Google's Gemini AI. The system includes multiple difficulty levels, real-time feedback, and comprehensive progress tracking.

## System Architecture

### Backend Components

#### 1. Database Model (`src/models/InterviewSession.ts`)
- **InterviewSession**: Stores complete interview session data
- **Level**: Manages difficulty levels (Starter, Easy, Medium, Hard, Excellent)
- **Question**: Individual questions with answers, feedback, and scores
- Tracks progress through levels and overall performance

#### 2. Gemini AI Service (`src/lib/gemini.ts`)
- Dynamic question generation based on user's preparation data
- Context-aware prompts that avoid repeating questions
- Intelligent feedback and scoring system
- Difficulty-specific question creation

#### 3. API Routes
- **POST /api/interview**: Create new interview session
- **GET /api/interview**: Fetch user's interview sessions  
- **POST /api/interview/question**: Generate next question
- **POST /api/interview/answer**: Submit answer and get feedback

### Frontend Components

#### 1. Pages Structure (`src/app/prepare/`)
```
prepare/
├── page.tsx                    # Main preparation page (confirmation/update)
├── interview/
│   └── [interviewId]/
│       └── page.tsx           # Active interview session page
└── results/
    └── [interviewId]/
        └── page.tsx           # Results and performance summary
```

#### 2. Reusable Components (`src/components/interview/`)
- **InterviewProgress**: Progress tracking with level indicators
- **QuestionCard**: Question display with answer input and feedback
- **InterviewSummary**: Preparation data display component
- **ProgressBar/ProgressStep**: Progress visualization components

## User Flow

### 1. Starting an Interview
1. User clicks "Start Interview" on dashboard
2. Redirected to `/prepare` page 
3. Views current interview preparation data
4. Can update preparation data or continue with existing
5. Clicks "Start New Interview Session" to begin

### 2. Interview Process
1. System creates new interview session via API
2. Navigates to `/prepare/interview/[interviewId]`
3. Shows progress header with current level/question info
4. Displays first question generated by Gemini AI
5. User types answer and submits
6. AI provides feedback and score
7. User proceeds to next question
8. Process repeats through 5 levels × 5 questions each

### 3. Level Structure
- **Level 1**: Starter (Basic questions)
- **Level 2**: Easy (Fundamental concepts)
- **Level 3**: Medium (Applied knowledge)
- **Level 4**: Hard (Complex scenarios)
- **Level 5**: Excellent (Expert-level challenges)

### 4. Completion
1. After final question, redirects to results page
2. Shows overall performance, level breakdown
3. Detailed review of all questions and feedback
4. Options to start new interview or return to dashboard

## AI Integration

### Dynamic Prompt System
The Gemini AI service creates context-aware prompts that include:
- User's target role and company
- Experience level and skills
- Current interview level and difficulty
- Previously asked questions (to avoid repeats)
- Question context for better generation

### Feedback Algorithm
- Analyzes answer quality and relevance
- Provides constructive feedback
- Assigns numerical scores (0-100)
- Considers role-specific requirements

## Key Features

### 1. Progress Persistence
- All data saved to MongoDB
- Users can resume incomplete sessions
- Complete history of past interviews

### 2. Intelligent Question Generation
- No repeated questions within same session
- Difficulty-appropriate content
- Role and company-specific questions
- Context-aware follow-up potential

### 3. Comprehensive Feedback
- Detailed AI-generated feedback for each answer
- Numerical scoring system
- Performance tracking across levels
- Improvement suggestions

### 4. User Experience
- Clean, intuitive interface
- Real-time progress tracking
- Responsive design for all devices
- Loading states and error handling

## Technical Implementation

### Frontend Technologies
- **Next.js 15** with App Router
- **TypeScript** for type safety
- **Tailwind CSS** for styling
- **Lucide React** for icons
- **NextAuth.js** for authentication

### Backend Technologies
- **MongoDB** with Mongoose ODM
- **Google Generative AI** (@google/generative-ai)
- **UUID** for unique session identifiers
- **Next.js API Routes** for serverless functions

### State Management
- React hooks for local state
- Session storage for interview progress
- Database persistence for permanent storage

## Configuration

### Environment Variables Required
```
GOOGLE_GEMINI_API_KEY=your_gemini_api_key
MONGODB_URI=your_mongodb_connection_string
NEXTAUTH_SECRET=your_nextauth_secret
```

### Gemini API Setup
- Uses Google's Gemini Pro model
- Configured with safety settings
- Rate limited and error handling implemented

## Usage Instructions

### For Users
1. Complete profile setup including interview preparation data
2. Navigate to dashboard and click "Start Interview"
3. Review/update preparation data on confirmation page
4. Begin interview session and answer questions thoughtfully
5. Review AI feedback after each question
6. Complete all 25 questions across 5 levels
7. View comprehensive results and performance analysis

### For Developers
1. Ensure all dependencies are installed (`npm install`)
2. Set up environment variables
3. Start development server (`npm run dev`)
4. Navigate to `/prepare` to test the system
5. Monitor API responses and Gemini integration
6. Check database for proper data persistence

## Future Enhancements

- Video/audio interview simulation
- Industry-specific question banks
- Team interview scenarios
- Integration with calendar systems
- Advanced analytics and reporting
- Mobile app development
- AI-powered interview coaching
